<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>9. Hillslope hydrology and BGC impacts breakout group &#8212; ModEx 2026 (updated: Jan 09 21:44:57 UTC) documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css?v=279e0f84" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=e3f3e722" />
    <script src="../_static/documentation_options.js?v=9101dbdb"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="10. Common Issues/FAQ" href="../common_issues.html" />
    <link rel="prev" title="8. Permafrost hydrology breakout group" href="permafrost_hydrology.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../common_issues.html" title="10. Common Issues/FAQ"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="permafrost_hydrology.html" title="8. Permafrost hydrology breakout group"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ModEx 2026 (updated: Jan 09 21:44:57 UTC) documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">9. </span>Hillslope hydrology and BGC impacts breakout group</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="hillslope-hydrology-and-bgc-impacts-breakout-group">
<h1><span class="section-number">9. </span>Hillslope hydrology and BGC impacts breakout group<a class="headerlink" href="#hillslope-hydrology-and-bgc-impacts-breakout-group" title="Link to this heading">¶</a></h1>
<section id="objectives-of-the-workshop-breakout">
<h2><span class="section-number">9.1. </span>Objectives of the workshop breakout<a class="headerlink" href="#objectives-of-the-workshop-breakout" title="Link to this heading">¶</a></h2>
<p>Objectives of this workshop breakout is learn how to set up and run ELM
simulations to explore a set of four ELM configurations:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Features</p></th>
<th class="head"><p>Spatial Extent</p></th>
<th class="head"><p>Spatial Resolutions</p></th>
<th class="head"><p>Configuration name (CODE)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Topounits</p></td>
<td><p>Panarctic</p></td>
<td><p>0.5 deg</p></td>
<td><p>Baseline (IM0_DS0)</p></td>
</tr>
<tr class="row-odd"><td><p>Topounits
+ meteorology downscaling</p></td>
<td><p>Panarctic</p></td>
<td><p>0.5 deg</p></td>
<td><p>Met. Downscaling (IM0_DS1)</p></td>
</tr>
<tr class="row-even"><td><p>Topounits
+ IM2 hillslope hydrology</p></td>
<td><p>Panarctic</p></td>
<td><p>0.5 deg</p></td>
<td><p>Hillslope Hydrology (IM1_DS0)</p></td>
</tr>
<tr class="row-odd"><td><p>Topounits
+ meteorology downscaling
+ IM2 hillslope hydrology</p></td>
<td><p>Panarctic</p></td>
<td><p>0.5 deg</p></td>
<td><p>Met. Downscaling +
Hillslope Hydrology (IM1_DS1)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="background-on-elm-features-we-will-explore">
<h2><span class="section-number">9.2. </span>Background on ELM features we will explore<a class="headerlink" href="#background-on-elm-features-we-will-explore" title="Link to this heading">¶</a></h2>
<section id="topounits">
<h3><span class="section-number">9.2.1. </span>Topounits<a class="headerlink" href="#topounits" title="Link to this heading">¶</a></h3>
<p>Topography-based subgrid scheme (or <strong>Topounits</strong>) and methods for
downscaling of atmospheric forcings were introduced in ELM by Tesfa et.
al. 2024 to better resolve terrestrial processes in regions of
heterogeneous terrain.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Tesfa, T. K., Leung, L. R., Thornton, P. E., Brunke, M. A., &amp; Duan, Z. (2024). Impacts of Topography‐Based Subgrid Scheme and Downscaling of Atmospheric Forcing on Modeling Land Surface Processes in the Conterminous US. Journal of Advances in Modeling Earth Systems, 16(8). https://doi.org/10.1029/2023ms004064
</pre></div>
</div>
<p>Tesfa et. al. 2024 derived <strong>topounits</strong> from high resolution elevation data (90 m) for the half
degree grids. <strong>Topounits</strong>‐based surface properties (including PFTs,
soil texture etc.) input parameters were
generated by mapping grid‐level values onto the TGUs of each grid.</p>
<p>The algorithm extracts elevation values based on the boundary of the modeling unit (grid) and discretizes the
modeling unit into 12 initial subgrid units using the 12 percentile elevation values calculated to represent the
elevation values at each consecutive percentile (10th, 20th, 30th, 40th, 50th, 60th, 70th, 80th, 85th, 90th, 95th and
100th). Then, the 12 values of elevation range are determined using the minimum elevation value within each grid
and the corresponding percentile elevation values as class breaks.
Furthermore, the 100‐m elevation threshold value is used to
calculate new values of elevation class break using a recursive
algorithm developed by Tesfa et. al. 2024. The recursive
algorithm merges any elevation class with elevation range less than the
threshold value to its neighboring class recursively until all the classes with elevation range smaller than the threshold value are removed.
This allows the topography‐based subgrid scheme to capture the impacts of topographic heterogeneity while
minimizing computational demand of the model by varying the number of
<strong>topounits</strong> per grid depending on the topographic heterogeneity within each modeling unit.</p>
<figure class="align-default">
<img alt="Topounits workflow" src="../_images/Tesfa_2024_topounits_workflow.png" />
</figure>
<table class="borderless docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../_images/toolik_dem_latlon.png"><img alt="../_images/toolik_dem_latlon.png" src="../_images/toolik_dem_latlon.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Digital Elevation Model (DEM) near Toolik Field Station</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id2">
<a class="reference internal image-reference" href="../_images/toolik_dem_grouped.png"><img alt="../_images/toolik_dem_grouped.png" src="../_images/toolik_dem_grouped.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Topounits (recursive merging) for Toolik Field Station identify 6 topounits</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
<p>Plot below show the 12 percentile based elevation bins and the recursive
merge strategy to create the topounits.</p>
<figure class="align-default">
<img alt="Topounits workflow" src="../_images/toolik_elevation_summary.png" />
</figure>
</section>
<section id="atmospheric-downscaling-scheme">
<h3><span class="section-number">9.2.2. </span>Atmospheric Downscaling Scheme<a class="headerlink" href="#atmospheric-downscaling-scheme" title="Link to this heading">¶</a></h3>
</section>
<section id="im2-hillslope-hydrology">
<h3><span class="section-number">9.2.3. </span>IM2 Hillslope Hydrology<a class="headerlink" href="#im2-hillslope-hydrology" title="Link to this heading">¶</a></h3>
</section>
</section>
<section id="elm-domain-surface-datasets">
<h2><span class="section-number">9.3. </span>ELM Domain/Surface Datasets<a class="headerlink" href="#elm-domain-surface-datasets" title="Link to this heading">¶</a></h2>
<p>For running ELM without coupled to other E3SM components, it requires inputs, as summarized in following:</p>
<p><a class="reference external" href="https://github.com/ORNL-Ecosystem-Projects/Documentations/wiki/Offline-ELM-Inputs-for-Regional-Simulations">https://github.com/ORNL-Ecosystem-Projects/Documentations/wiki/Offline-ELM-Inputs-for-Regional-Simulations</a></p>
<p>The following will list what really needed for this demonstration.</p>
<section id="elm-domain-files">
<h3><span class="section-number">9.3.1. </span>ELM Domain Files<a class="headerlink" href="#elm-domain-files" title="Link to this heading">¶</a></h3>
<p>By default, ELM domain file is located in:</p>
<p>/mnt/inputdata/E3SM/share/domains/domain.clm/</p>
<p>Files used in this exercise are named as, with ‘C71’ standing for Council 71, AK:</p>
<p>domain.lnd.r05_RRSwISC6to18E3r5.240328_C71-Grid.nc</p>
<p>This file will provide a mesh of land surface, including grid location and its size (vertices, and area).</p>
</section>
<section id="elm-surface-datasets">
<h3><span class="section-number">9.3.2. </span>ELM Surface Datasets<a class="headerlink" href="#elm-surface-datasets" title="Link to this heading">¶</a></h3>
<p>ELM requires a lot of land surface properties. The netCDF files are in:</p>
<p>/mnt/inputdata/E3SM/lnd/clm2/surfdata_map</p>
<p>The dataset with topounits, used in this exercise, will be:</p>
<p>topounit_surfdata_0.5x0.5_simyr1850_c20220204_C71-GRID.nc</p>
<p>Again, with C71 stands for Council Mileage 71, AK.</p>
</section>
<section id="elm-forcing-files">
<h3><span class="section-number">9.3.3. </span>ELM Forcing Files<a class="headerlink" href="#elm-forcing-files" title="Link to this heading">¶</a></h3>
<p>In this exercise, ELM will be driven by a meteorological data, called GSWP3 (v2), in:</p>
<p>/mnt/inputdata/E3SM/atm/datm7/gswp3/</p>
<p>For Council site, the subdirectory is: cnl/</p>
<p>From the file names, there are 7 meterological variables of 3 hourly:</p>
<blockquote>
<div><p>FSDS - incoming solar shortwave radiation</p>
<p>FLDS - incoming solar longwave radiation</p>
<p>PRECTmms - precipitation in unit of mm/s</p>
<p>PSRF - air pressure (near-surface)</p>
<p>QBOT - air specific humidity (near-surface, or bottom of atmosphere)</p>
<p>TBOT - air temperature</p>
<p>WIND - wind speed</p>
</div></blockquote>
</section>
</section>
<section id="running-elm-exercises-on-topographic-unit-hereafter-topounit-data-and-functionality">
<h2><span class="section-number">9.4. </span>Running ELM: Exercises on topographic unit, hereafter, topounit, data and functionality<a class="headerlink" href="#running-elm-exercises-on-topographic-unit-hereafter-topounit-data-and-functionality" title="Link to this heading">¶</a></h2>
<p>A general briefing on how to use or run ELM may be found in: <a class="reference external" href="https://github.com/ORNL-Ecosystem-Projects/Documentations/wiki#welcome-to-the-e3sm-land-model-elm-pflotran-coupled-wiki">https://github.com/ORNL-Ecosystem-Projects/Documentations/wiki#welcome-to-the-e3sm-land-model-elm-pflotran-coupled-wiki</a></p>
<p>In this series of ELM runs we will do following at a single NGEE Arctic Phase 4 evaluation site: Council, Council Road Mileage 71, AK.</p>
<p>site name: council</p>
<p>site code: AK-SP-CL71</p>
<p>meteorological forcing source: gswp3</p>
<p>domain file: /mnt/inputdata/E3SM/share/domains/domain.clm/domain.lnd.r05_RRSwISC6to18E3r5.240328_C71-Grid.nc</p>
<p>surfdata file: /mnt/inputdata/E3SM/lnd/clm2/surfdata_map/topounit_surfdata_0.5x0.5_simyr1850_c20220204_C71-GRID.nc</p>
<p>inidata file: //mnt/inputdata/E3SM/lnd/clm2/inidata/council/topounit_gswp3_AK-SP-CL71_ICB1850CNPRDCTCBC.elm.r.0601-01-01-00000.nc</p>
<ol class="arabic simple">
<li><p>a full-run of 3 stages of ELM simulations, but in short running years.</p></li>
<li><p>create a transient case, build it, but not run.</p></li>
<li><p>4 sets of simulations, using the case setup and built in (2).</p></li>
</ol>
<section id="a-quick-test-of-ensential-topounit-enabled-elm-run">
<h3><span class="section-number">9.4.1. </span>A quick test of ensential topounit enabled ELM run<a class="headerlink" href="#a-quick-test-of-ensential-topounit-enabled-elm-run" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--site_name<span class="o">=</span>council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--topounits_atmdownscale<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_prefix<span class="o">=</span>topounit<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--met_source<span class="o">=</span>gswp3<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--ad_spinup_yrs<span class="o">=</span><span class="m">20</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--final_spinup_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--transient_yrs<span class="o">=</span><span class="m">10</span>
</pre></div>
</div>
<p>The option, –topounits_atmdownscale, will turn on a function, downscaling air temperature and precipitation by topounit.</p>
<p>This function may significantly impact hydrology and may have consequent impacts on biogeochemical cycle, if multiple topounits are properly created in ELM surface data.</p>
</section>
<section id="create-a-new-transient-case-and-build-it">
<h3><span class="section-number">9.4.2. </span>Create a new transient case and build it.<a class="headerlink" href="#create-a-new-transient-case-and-build-it" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--site_name<span class="o">=</span>council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--topounits_atmdownscale<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_prefix<span class="o">=</span>topounit<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--met_source<span class="o">=</span>gswp3<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--ad_spinup_yrs<span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--final_spinup_yrs<span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--no_submit
</pre></div>
</div>
<p>The option,</p>
<p>–ad_spinup_yrs=0 will allow workflow SKIP ELM stage of biogeochimcally accelebrated spinup;</p>
<p>–final_spinup_yrs=0 will SKIP stage of normal spinup.</p>
<p>Thus, it will create a case of Transient stage. Then, –no_submit will tell workflow not run the case.</p>
<p>From this command, 3 directories will generated for the case:</p>
<blockquote>
<div><p>CASE: topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC</p>
<p>CASEROOT: /mnt/output/cime_case_dirs/topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC</p>
<p>EXEROOT: /mnt/output/cime_run_dirs/topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC/bld</p>
<p>RUNDIR: /mnt/output/cime_run_dirs/topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC/run</p>
</div></blockquote>
<p>for convenience, CASEROOT has two parts:</p>
<blockquote>
<div><p>case_dir=/mnt/output/cime_case_dirs</p>
<p>case_name=topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC</p>
</div></blockquote>
<p>EXEROOT is where ‘e3sm.exe’ and its building root directory.</p>
<p>RUNDIR is where all simulation results are. Later on, when visualizing and/or analysing, all output data will be there.</p>
</section>
<section id="four-4-runs-of-the-case-just-setup-and-built">
<h3><span class="section-number">9.4.3. </span>Four (4) runs of the case just setup and built.<a class="headerlink" href="#four-4-runs-of-the-case-just-setup-and-built" title="Link to this heading">¶</a></h3>
<p>Topographic features along hillslope, may have 2 import thermal-hydrologically impacts on:</p>
<ol class="arabic simple">
<li><p>near-surface temperature and precipitation. In ELM, this topounit function is called atmospheric forcing downscaling, i.e. topo-downscaling.
TIP: For ELM developers, its namelist is use_atmdownscaling_to_topounit = .true., setup in ELM_BLDNML_OPTS ( “-topunit”)</p></li>
<li><p>water flow along hillslope. In ELM this topounit function is called IM2 hillslope hydrology.
TIP: For ELM developers, its namelist is use_IM2_hillslope_hydrology = .true., setup in ‘user_nl_name’</p></li>
</ol>
<p>HERE, an ELM case re-run workflow, namely called run_ngeearctic_site_rerun.sh, will be used.</p>
<ul class="simple">
<li><p>It will run the already setup/built case, from a pre-run ending restart data packages.</p></li>
<li><p>4 runs will change run options differently, but no need to re-build model and implementation machine settings.</p></li>
</ul>
<p>RUN 1: Baseline (IM0_DS0)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site_rerun.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_name<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_dirs<span class="o">=</span>/mnt/output/cime_case_dirs<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--run_type<span class="o">=</span>branch<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_path<span class="o">=</span>/mnt/inputdata/E3SM/lnd/clm2/inidata/council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_case<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_date<span class="o">=</span><span class="m">2005</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--continue_run_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--rest_yrs<span class="o">=</span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user_namelist<span class="o">=</span><span class="s2">&quot;topounit&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--merged_ncfile<span class="o">=</span><span class="s2">&quot;MasterE3SM_subgrid.out_met-ds-NO_IM-2-NO_yes.topounit_gswp3_AK-SP-CL72_ICB20TRCNPRDCTCBC_2005.2014.nc&quot;</span>
</pre></div>
</div>
<p>NOTES:</p>
<blockquote>
<div><p>–case_dirs, –case_name, will be the CASEROOT, which already existed.</p>
<p class="attribution">—run_type=branch. This must be used together with –restart_path, –restart_case, –restart_date</p>
</div></blockquote>
<blockquote>
<div><p>‘branch’ RUN_TYPE is one of 3 types supported here (startup, restart, and branch). It will find a few data and rpointer files in –restart_path, with case_name of –restart_case, from starting point time of –restart_date</p>
<p class="attribution">—continue_run_yrs=10, it allows run goes for 10 years. So if starting from 2005-01-01, it will be ending at 2014-12-31.</p>
</div></blockquote>
<blockquote>
<div><p>–rest_yrs=11, tells model saves restart files every 11 years. Since the run only goes for 10 years, it won’t generate restart files in this case. If intended to, have to set this to not greater than –continue_run_yrs.</p>
<p class="attribution">—user_namelist=”topounit”, allows run configured as ‘topounits’ enabled, but no meteorological downscaling or IM2 hillslope hydrology</p>
</div></blockquote>
<blockquote>
<div><p>–merged_ncfile will tell workflow to save merged sub-grid output netCDF files to this file.</p>
<blockquote>
<div><p>Otherwise, its name is ELM_output_PFT.nc (and it will be overwritten by new run).</p>
<p>It can be any name. Here we sort of intending it referring some meaningful name, e.g. E3SM version, not-grid-aggregated, met-ds (NO), IM-2 (NO), topounit (yes), met. type, site-code, ELM compset, period, etc.</p>
</div></blockquote>
</div></blockquote>
<p>RUN 2: Downscaling (IM0_DS1)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site_rerun.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_name<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_dirs<span class="o">=</span>/mnt/output/cime_case_dirs<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--run_type<span class="o">=</span>branch<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_path<span class="o">=</span>/mnt/inputdata/E3SM/lnd/clm2/inidata/council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_case<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_date<span class="o">=</span><span class="m">2005</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--continue_run_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--rest_yrs<span class="o">=</span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user_namelist<span class="o">=</span><span class="s2">&quot;topounit_atm_downscaling&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--merged_ncfile<span class="o">=</span><span class="s2">&quot;MasterE3SM_subgrid.out_met-ds-YES_IM-2-NO_yes.topounit_gswp3_AK-SP-CL72_ICB20TRCNPRDCTCBC_2005.2014.nc&quot;</span>
</pre></div>
</div>
<dl>
<dt>NOTE:</dt><dd><p>In this run, only the following options are changed.</p>
<blockquote>
<div><p>–user_namelist=”topounit_atm_downscalng”, allows run configured as ‘topounits’ enabled PLUS meteorological downscaling.</p>
<p class="attribution">—merged_ncfile</p>
</div></blockquote>
</dd>
</dl>
<p>RUN 3: Hillslope Hydrology (IM1_DS0)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site_rerun.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_name<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_dirs<span class="o">=</span>/mnt/output/cime_case_dirs<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--run_type<span class="o">=</span>branch<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_path<span class="o">=</span>/mnt/inputdata/E3SM/lnd/clm2/inidata/council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_case<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_date<span class="o">=</span><span class="m">2005</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--continue_run_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--rest_yrs<span class="o">=</span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user_namelist<span class="o">=</span><span class="s2">&quot;topounit_IM2&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--merged_ncfile<span class="o">=</span><span class="s2">&quot;MasterE3SM_subgrid.out_met-ds-NO_IM-2-YES_yes.topounit_gswp3_AK-SP-CL72_ICB20TRCNPRDCTCBC_2005.2014.nc&quot;</span>
</pre></div>
</div>
<dl>
<dt>NOTE:</dt><dd><p>In this run, only the following options are changed.</p>
<blockquote>
<div><p>–user_namelist=”topounit_IM2”, allows run configured as ‘topounits’ enabled PLUS IM2 hillslope hydrology.</p>
<blockquote>
<div><p>(–user_namelist=”use_IM2_hillslope_hydrology”, will do exactly same running configuration)</p>
</div></blockquote>
<p class="attribution">—merged_ncfile</p>
</div></blockquote>
</dd>
</dl>
<p>RUN 4: Met. Downscaling + Hillslope Hydrology (IM1_DS1)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site_rerun.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_name<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_dirs<span class="o">=</span>/mnt/output/cime_case_dirs<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--run_type<span class="o">=</span>branch<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_path<span class="o">=</span>/mnt/inputdata/E3SM/lnd/clm2/inidata/council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_case<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_date<span class="o">=</span><span class="m">2005</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--continue_run_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--rest_yrs<span class="o">=</span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user_namelist<span class="o">=</span><span class="s2">&quot;topounit_atm_downscaling, topounit_IM2&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--merged_ncfile<span class="o">=</span><span class="s2">&quot;MasterE3SM_subgrid.out_met-ds-YES_IM-2-YES_yes.topounit_gswp3_AK-SP-CL72_ICB20TRCNPRDCTCBC_2005.2014.nc&quot;</span>
</pre></div>
</div>
<dl>
<dt>NOTE:</dt><dd><p>In this run, only the following options are changed.</p>
<blockquote>
<div><p>–user_namelist=”topounit_atm_downscalng, topounit_IM2”, allows run configured as ‘topounits’ enabled PLUS meteorological downscaling and IM2 hillslope hydrology</p>
<p class="attribution">—merged_ncfile</p>
</div></blockquote>
</dd>
</dl>
</section>
</section>
<section id="elm-run-results-visualizing-and-or-analysis">
<h2><span class="section-number">9.5. </span>ELM run results visualizing and/or analysis<a class="headerlink" href="#elm-run-results-visualizing-and-or-analysis" title="Link to this heading">¶</a></h2>
<section id="visualizing-results-using-jupyter-notebook-container">
<h3><span class="section-number">9.5.1. </span>Visualizing results using jupyter notebook container<a class="headerlink" href="#visualizing-results-using-jupyter-notebook-container" title="Link to this heading">¶</a></h3>
</section>
<section id="analysing-hillslope-hydrology-over-topounits-soil-moisture-gpp">
<h3><span class="section-number">9.5.2. </span>Analysing Hillslope hydrology over topounits: soil moisture, GPP<a class="headerlink" href="#analysing-hillslope-hydrology-over-topounits-soil-moisture-gpp" title="Link to this heading">¶</a></h3>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/NGEE_Arctic_logo_large.png" alt="Logo of ModEx 2026"/>
            </a></p>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">9. Hillslope hydrology and BGC impacts breakout group</a><ul>
<li><a class="reference internal" href="#objectives-of-the-workshop-breakout">9.1. Objectives of the workshop breakout</a></li>
<li><a class="reference internal" href="#background-on-elm-features-we-will-explore">9.2. Background on ELM features we will explore</a><ul>
<li><a class="reference internal" href="#topounits">9.2.1. Topounits</a></li>
<li><a class="reference internal" href="#atmospheric-downscaling-scheme">9.2.2. Atmospheric Downscaling Scheme</a></li>
<li><a class="reference internal" href="#im2-hillslope-hydrology">9.2.3. IM2 Hillslope Hydrology</a></li>
</ul>
</li>
<li><a class="reference internal" href="#elm-domain-surface-datasets">9.3. ELM Domain/Surface Datasets</a><ul>
<li><a class="reference internal" href="#elm-domain-files">9.3.1. ELM Domain Files</a></li>
<li><a class="reference internal" href="#elm-surface-datasets">9.3.2. ELM Surface Datasets</a></li>
<li><a class="reference internal" href="#elm-forcing-files">9.3.3. ELM Forcing Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-elm-exercises-on-topographic-unit-hereafter-topounit-data-and-functionality">9.4. Running ELM: Exercises on topographic unit, hereafter, topounit, data and functionality</a><ul>
<li><a class="reference internal" href="#a-quick-test-of-ensential-topounit-enabled-elm-run">9.4.1. A quick test of ensential topounit enabled ELM run</a></li>
<li><a class="reference internal" href="#create-a-new-transient-case-and-build-it">9.4.2. Create a new transient case and build it.</a></li>
<li><a class="reference internal" href="#four-4-runs-of-the-case-just-setup-and-built">9.4.3. Four (4) runs of the case just setup and built.</a></li>
</ul>
</li>
<li><a class="reference internal" href="#elm-run-results-visualizing-and-or-analysis">9.5. ELM run results visualizing and/or analysis</a><ul>
<li><a class="reference internal" href="#visualizing-results-using-jupyter-notebook-container">9.5.1. Visualizing results using jupyter notebook container</a></li>
<li><a class="reference internal" href="#analysing-hillslope-hydrology-over-topounits-soil-moisture-gpp">9.5.2. Analysing Hillslope hydrology over topounits: soil moisture, GPP</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../common_issues.html" title="10. Common Issues/FAQ"
             >next</a> |</li>
        <li class="right" >
          <a href="permafrost_hydrology.html" title="8. Permafrost hydrology breakout group"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ModEx 2026 (updated: Jan 09 21:44:57 UTC) documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">9. </span>Hillslope hydrology and BGC impacts breakout group</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2026, ModEx Team, LANL, ORNL, UAF, LBNL.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>