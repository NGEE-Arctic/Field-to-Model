<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>8. Hillslope hydrology and BGC impacts breakout group &#8212; ModEx 2026 (updated: Jan 14 15:28:36 UTC) documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css?v=279e0f84" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=e3f3e722" />
    <script src="../_static/documentation_options.js?v=a64f7fc8"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9. Common Issues/FAQ" href="../common_issues.html" />
    <link rel="prev" title="7. Permafrost hydrology breakout group" href="permafrost_hydrology.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../common_issues.html" title="9. Common Issues/FAQ"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="permafrost_hydrology.html" title="7. Permafrost hydrology breakout group"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ModEx 2026 (updated: Jan 14 15:28:36 UTC) documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">8. </span>Hillslope hydrology and BGC impacts breakout group</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="hillslope-hydrology-and-bgc-impacts-breakout-group">
<h1><span class="section-number">8. </span>Hillslope hydrology and BGC impacts breakout group<a class="headerlink" href="#hillslope-hydrology-and-bgc-impacts-breakout-group" title="Link to this heading">¶</a></h1>
<section id="objectives-of-the-workshop-breakout">
<h2><span class="section-number">8.1. </span>Objectives of the workshop breakout<a class="headerlink" href="#objectives-of-the-workshop-breakout" title="Link to this heading">¶</a></h2>
<p>Objectives of this workshop breakout is learn how to set up and run ELM
simulations to explore a set of four ELM configurations:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>Features</p></th>
<th class="head"><p>Spatial Extent</p></th>
<th class="head"><p>Spatial Resolutions</p></th>
<th class="head"><p>Configuration name (CODE)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>IM0_DS0</p></td>
<td><p>Topounits</p></td>
<td><p>Panarctic</p></td>
<td><p>0.5 deg</p></td>
<td><p>Baseline (IM0_DS0)</p></td>
</tr>
<tr class="row-odd"><td><p>IM0_DS1</p></td>
<td><p>Topounits
+ meteorology downscaling</p></td>
<td><p>Panarctic</p></td>
<td><p>0.5 deg</p></td>
<td><p>Met. Downscaling (IM0_DS1)</p></td>
</tr>
<tr class="row-even"><td><p>IM1_DS0</p></td>
<td><p>Topounits
+ IM2 hillslope hydrology</p></td>
<td><p>Panarctic</p></td>
<td><p>0.5 deg</p></td>
<td><p>Hillslope Hydrology (IM1_DS0)</p></td>
</tr>
<tr class="row-odd"><td><p>IM1_DS1</p></td>
<td><p>Topounits
+ meteorology downscaling
+ IM2 hillslope hydrology</p></td>
<td><p>Panarctic</p></td>
<td><p>0.5 deg</p></td>
<td><p>Met. Downscaling +
Hillslope Hydrology (IM1_DS1)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="background-on-elm-features-we-will-explore">
<h2><span class="section-number">8.2. </span>Background on ELM features we will explore<a class="headerlink" href="#background-on-elm-features-we-will-explore" title="Link to this heading">¶</a></h2>
<section id="topounits">
<h3><span class="section-number">8.2.1. </span>Topounits<a class="headerlink" href="#topounits" title="Link to this heading">¶</a></h3>
<p>Topography-based subgrid scheme (or <strong>Topounits</strong>) and methods for
downscaling of atmospheric forcings were introduced in ELM by Tesfa et.
al. 2024 to better resolve terrestrial processes in regions of
heterogeneous terrain.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Tesfa, T. K., Leung, L. R., Thornton, P. E., Brunke, M. A., &amp; Duan, Z. (2024). Impacts of Topography‐Based Subgrid Scheme and Downscaling of Atmospheric Forcing on Modeling Land Surface Processes in the Conterminous US. Journal of Advances in Modeling Earth Systems, 16(8). https://doi.org/10.1029/2023ms004064
</pre></div>
</div>
<p>Tesfa et. al. 2024 derived <strong>topounits</strong> from high resolution elevation data (90 m) for the half
degree grids. <strong>Topounits</strong>‐based surface properties (including PFTs,
soil texture etc.) input parameters were
generated by mapping grid‐level values onto the TGUs of each grid.</p>
<p>The algorithm extracts elevation values based on the boundary of the modeling unit (grid) and discretizes the
modeling unit into 12 initial subgrid units using the 12 percentile elevation values calculated to represent the
elevation values at each consecutive percentile (10th, 20th, 30th, 40th, 50th, 60th, 70th, 80th, 85th, 90th, 95th and
100th). Then, the 12 values of elevation range are determined using the minimum elevation value within each grid
and the corresponding percentile elevation values as class breaks.
Furthermore, the 100‐m elevation threshold value is used to
calculate new values of elevation class break using a recursive
algorithm developed by Tesfa et. al. 2024. The recursive
algorithm merges any elevation class with elevation range less than the
threshold value to its neighboring class recursively until all the classes with elevation range smaller than the threshold value are removed.
This allows the topography‐based subgrid scheme to capture the impacts of topographic heterogeneity while
minimizing computational demand of the model by varying the number of
<strong>topounits</strong> per grid depending on the topographic heterogeneity within each modeling unit.</p>
<figure class="align-default">
<img alt="Topounits workflow" src="../_images/Tesfa_2024_topounits_workflow.png" />
</figure>
<table class="borderless docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../_images/toolik_dem_latlon.png"><img alt="../_images/toolik_dem_latlon.png" src="../_images/toolik_dem_latlon.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Digital Elevation Model (DEM) near Toolik Field Station</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id2">
<a class="reference internal image-reference" href="../_images/toolik_dem_grouped.png"><img alt="../_images/toolik_dem_grouped.png" src="../_images/toolik_dem_grouped.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Topounits (recursive merging) for Toolik Field Station identify 6 topounits</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
<p>Plot below show the 12 percentile based elevation bins and the recursive
merge strategy to create the topounits.</p>
<figure class="align-default">
<img alt="Topounits workflow" src="../_images/toolik_elevation_summary.png" />
</figure>
<p>Plot below shows the number of topounits across a 0.5 degree Pan-Arctic
ELM grid.</p>
<figure class="align-default">
<img alt="Panarctic Topounits" src="../_images/panarctic_topounits.png" />
</figure>
</section>
<section id="atmospheric-downscaling-scheme">
<h3><span class="section-number">8.2.2. </span>Atmospheric Downscaling Scheme<a class="headerlink" href="#atmospheric-downscaling-scheme" title="Link to this heading">¶</a></h3>
<p>Elevation Range with Maximum elevation Method (ERMM) devveloped by Tesfa
et. al. 2020 is used to downscale atmospheric forcings from gridcell to
topounits. The ERMM method uses only the topographic characteristics of the grid and the TGUs to disaggregate grid-level precipitation to the TGUs of the grid.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Tesfa</span><span class="p">,</span> <span class="n">T</span><span class="o">.</span> <span class="n">K</span><span class="o">.</span><span class="p">,</span> <span class="n">Leung</span><span class="p">,</span> <span class="n">L</span><span class="o">.</span> <span class="n">R</span><span class="o">.</span><span class="p">,</span> <span class="o">&amp;</span> <span class="n">Ghan</span><span class="p">,</span> <span class="n">S</span><span class="o">.</span> <span class="n">J</span><span class="o">.</span> <span class="p">(</span><span class="mi">2020</span><span class="p">)</span><span class="o">.</span> <span class="n">Exploring</span> <span class="n">topography</span><span class="o">-</span><span class="n">based</span> <span class="n">methods</span> <span class="k">for</span> <span class="n">downscaling</span> <span class="n">subgrid</span> <span class="n">precipitation</span> <span class="k">for</span> <span class="n">use</span> <span class="ow">in</span> <span class="n">Earth</span> <span class="n">System</span> <span class="n">Models</span><span class="o">.</span> <span class="n">Journal</span> <span class="n">of</span> <span class="n">Geophysical</span> <span class="n">Research</span><span class="p">:</span> <span class="n">Atmospheres</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="n">e2019JD031456</span><span class="o">.</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">doi</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="mf">10.1029</span><span class="o">/</span><span class="mi">2019</span><span class="n">JD031456</span>
</pre></div>
</div>
</div></blockquote>
<figure class="align-default">
<img alt="ERWMM precipitation downscaling" src="../_images/ERWMM_precip_ds.png" />
</figure>
<figure class="align-default">
<img alt="ERWMM temperature downscaling" src="../_images/ERWMM_temp_ds.png" />
</figure>
</section>
<section id="im2-hillslope-hydrology">
<h3><span class="section-number">8.2.3. </span>IM2 Hillslope Hydrology<a class="headerlink" href="#im2-hillslope-hydrology" title="Link to this heading">¶</a></h3>
<table class="borderless docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id3">
<a class="reference internal image-reference" href="../_images/IM2_scheme_1.png"><img alt="../_images/IM2_scheme_1.png" src="../_images/IM2_scheme_1.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Connections among multiple topounits (labeled a through g) on a single gridcell. Each topounit is connected to at most one other downhill topounit (the next lowest in elevation), while the lowest topounit does not have a downhill connection.</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id4">
<a class="reference internal image-reference" href="../_images/IM2_scheme_2.png"><img alt="../_images/IM2_scheme_2.png" src="../_images/IM2_scheme_2.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Arrangement of topounits, columns, state variables, and water fluxes</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
<table class="borderless docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><figure class="align-default" id="id5">
<a class="reference internal image-reference" href="../_images/IM2_scheme_3.png"><img alt="../_images/IM2_scheme_3.png" src="../_images/IM2_scheme_3.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">A summary of water fluxes for a single column.</span><a class="headerlink" href="#id5" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-default" id="id6">
<a class="reference internal image-reference" href="../_images/IM2_scheme_4.png"><img alt="../_images/IM2_scheme_4.png" src="../_images/IM2_scheme_4.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Summary representation of hillslope hydrology fluxes at the topounit level. The water state variable for one topounit (gray shaded box) receives water from a column on an uphill topounit (column a). The operator symbol represents combined user parameter for the fraction of column-level flux to transport downhill and the scaling factor accounting for potential difference in area between the upstream column and the downstream topounit. Water leaving the topounit water state is moved to columns on the topounit .</span><a class="headerlink" href="#id6" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="running-elm">
<h2><span class="section-number">8.3. </span>Running ELM<a class="headerlink" href="#running-elm" title="Link to this heading">¶</a></h2>
<p>We will use Council C71 site (at Seward Peninsula of Alaska) for all
simulations in this exercise.
To run ELM in offline mode (without coupling to other E3SM
components), we would need input datafiles as summarized below:</p>
<p><a class="reference external" href="https://github.com/ORNL-Ecosystem-Projects/Documentations/wiki/Offline-ELM-Inputs-for-Regional-Simulations">https://github.com/ORNL-Ecosystem-Projects/Documentations/wiki/Offline-ELM-Inputs-for-Regional-Simulations</a></p>
<p>Described below are the essential data components need for this
exercise.</p>
<section id="elm-domain-files">
<h3><span class="section-number">8.3.1. </span>ELM Domain Files<a class="headerlink" href="#elm-domain-files" title="Link to this heading">¶</a></h3>
<p>ELM domain file is located within the container volume at:
<code class="docutils literal notranslate"><span class="pre">/mnt/inputdata/E3SM/share/domains/domain.clm/</span></code></p>
<p>Files used in this exercise include the identifier ‘C71’ for Council
Mile Marker 71, at Seward Peninsula of AK,
AK in their name:</p>
<p><code class="docutils literal notranslate"><span class="pre">domain.lnd.r05_RRSwISC6to18E3r5.240328_C71-Grid.nc</span></code>: This file
provides the computational mesh for ELM, including grid location and its size (vertices, and area).</p>
</section>
<section id="elm-surface-datasets">
<h3><span class="section-number">8.3.2. </span>ELM Surface Datasets<a class="headerlink" href="#elm-surface-datasets" title="Link to this heading">¶</a></h3>
<p>ELM requires a number of land surface properties to be defined in netCDF
files that are located at:
<code class="docutils literal notranslate"><span class="pre">/mnt/inputdata/E3SM/lnd/clm2/surfdata_map</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">topounit_surfdata_0.5x0.5_simyr1850_c20220204_C71-GRID.nc</span></code>: Contains
the datasets with <strong>“topounits”</strong> to be used in this exercise.</p>
</section>
<section id="elm-forcing-files">
<h3><span class="section-number">8.3.3. </span>ELM Forcing Files<a class="headerlink" href="#elm-forcing-files" title="Link to this heading">¶</a></h3>
<p>A number of meteorological datasets are being used by NGEE-Arctic to
provide forcings for the ELM simulations. This exercise will use GSWP3
(v2) data, available at: <code class="docutils literal notranslate"><span class="pre">/mnt/inputdata/E3SM/atm/datm7/gswp3/</span></code></p>
<p>Data for Council site are within the subdirectory: <code class="docutils literal notranslate"><span class="pre">cnl/</span></code></p>
<p>There are 7 key meterological variables at 3 hourly frequency that
provides meteorological:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FSDS</p></td>
<td><p>incoming solar shortwave radiation</p></td>
</tr>
<tr class="row-odd"><td><p>FLDS</p></td>
<td><p>incoming solar longwave radiation</p></td>
</tr>
<tr class="row-even"><td><p>PRECTmms</p></td>
<td><p>precipitation in unit of mm/s</p></td>
</tr>
<tr class="row-odd"><td><p>PSRF</p></td>
<td><p>air pressure (near-surface)</p></td>
</tr>
<tr class="row-even"><td><p>QBOT</p></td>
<td><p>air specific humidity (near-surface, or bottom of atmosphere)</p></td>
</tr>
<tr class="row-odd"><td><p>TBOT</p></td>
<td><p>air temperature</p></td>
</tr>
<tr class="row-even"><td><p>WIND</p></td>
<td><p>wind speed</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="running-elm-exercises-on-topographic-unit-hereafter-topounit-data-and-functionality">
<h2><span class="section-number">8.4. </span>Running ELM: Exercises on topographic unit, hereafter, topounit, data and functionality<a class="headerlink" href="#running-elm-exercises-on-topographic-unit-hereafter-topounit-data-and-functionality" title="Link to this heading">¶</a></h2>
<p>A general briefing on how to use or run ELM may be found in: <a class="reference external" href="https://github.com/ORNL-Ecosystem-Projects/Documentations/wiki#welcome-to-the-e3sm-land-model-elm-pflotran-coupled-wiki">https://github.com/ORNL-Ecosystem-Projects/Documentations/wiki#welcome-to-the-e3sm-land-model-elm-pflotran-coupled-wiki</a></p>
<p>In this exercise we will conduct ELM runs at a single NGEE Arctic Phase 4 evaluation site: Council, Council Road Mileage 71, AK.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>site name</p></td>
<td><p>council</p></td>
</tr>
<tr class="row-odd"><td><p>site code</p></td>
<td><p>AK-SP-CL71</p></td>
</tr>
<tr class="row-even"><td><p>meteorological forcing source</p></td>
<td><p>GSWP3</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>domain file</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/mnt/inputdata/E3SM/share/domains/domain.clm/domain.lnd.r05_RRSwISC6to18E3r5.240328_C71-Grid.nc</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>surfdata file</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/mnt/inputdata/E3SM/lnd/clm2/surfdata_map/topounit_surfdata_0.5x0.5_simyr1850_c20220204_C71-GRID.nc</span></code></p></td>
</tr>
<tr class="row-even"><td><p>inidata file</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/mnt/inputdata/E3SM/lnd/clm2/inidata/council/topounit_gswp3_AK-SP-CL71_ICB1850CNPRDCTCBC.elm.r.0601-01-01-00000.nc</span></code></p></td>
</tr>
</tbody>
</table>
<p>We will work through the following steps:</p>
<ol class="arabic simple">
<li><p>A full-run of 3 stages (AD spinup, final spinup, transient run) of ELM simulation, but for only a few years (due to time constraint).</p></li>
<li><p>Create a transient case, build it, but not run.</p></li>
<li><p>Perform 4 sets of simulations, using the case setup and built in #2.</p></li>
</ol>
<section id="a-sample-end-to-end-topounit-enabled-elm-run">
<h3><span class="section-number">8.4.1. </span>A sample end-to-end topounit enabled ELM run<a class="headerlink" href="#a-sample-end-to-end-topounit-enabled-elm-run" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--site_name<span class="o">=</span>council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--topounits_atmdownscale<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_prefix<span class="o">=</span>topounit<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--met_source<span class="o">=</span>gswp3<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--ad_spinup_yrs<span class="o">=</span><span class="m">20</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--final_spinup_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--transient_yrs<span class="o">=</span><span class="m">10</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">--topounits_atmdownscale</span></code>, will turn ON the feature to
downscaling air temperature and precipitation from gricells to topounits.</p>
<p><code class="docutils literal notranslate"><span class="pre">--ad_spinup_yrs=20</span></code>, <code class="docutils literal notranslate"><span class="pre">--final_spinup_yrs=10</span></code>, <code class="docutils literal notranslate"><span class="pre">--transient_yrs=10</span></code> defines the number of years simulation should be conducted for <code class="docutils literal notranslate"><span class="pre">ad_spinup</span></code>, <code class="docutils literal notranslate"><span class="pre">final_spinup</span></code>, and <code class="docutils literal notranslate"><span class="pre">transient</span></code> steps.  These values typically would be higher, but set low for illustration.</p>
<p><strong>Topounits</strong> and <strong>downscaling</strong> features can have significant impact
on hydrological processes, and consequent impacts on biogeochemical
cycle, if multiple topounits are properly created in ELM surface data.
We will look into those effect later in this exercise.</p>
</section>
<section id="create-a-new-transient-case-and-build-it">
<h3><span class="section-number">8.4.2. </span>Create a new transient case and build it.<a class="headerlink" href="#create-a-new-transient-case-and-build-it" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--site_name<span class="o">=</span>council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--topounits_atmdownscale<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_prefix<span class="o">=</span>topounit<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--met_source<span class="o">=</span>gswp3<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--ad_spinup_yrs<span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--final_spinup_yrs<span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--no_submit
</pre></div>
</div>
<p>The option,</p>
<p><code class="docutils literal notranslate"><span class="pre">--ad_spinup_yrs=0</span></code> will allow workflow to SKIP the step of
biogeochemically accelerated spinup.</p>
<p><code class="docutils literal notranslate"><span class="pre">--final_spinup_yrs=0</span></code> will SKIP stage of normal spinup.</p>
<p>It will create a case for <strong>transient</strong> simulation. <code class="docutils literal notranslate"><span class="pre">--no_submit</span></code> will
however tell the workflow not start the simulation, which we will do in
the next step..</p>
<p>The above command will generate 3 directories for the case: <code class="docutils literal notranslate"><span class="pre">CASE</span></code> = <code class="docutils literal notranslate"><span class="pre">topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">CASEROOT</span></code>: <code class="docutils literal notranslate"><span class="pre">/mnt/output/cime_case_dirs/topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC</span></code>
<code class="docutils literal notranslate"><span class="pre">EXEROOT</span></code>: <code class="docutils literal notranslate"><span class="pre">/mnt/output/cime_run_dirs/topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC/bld</span></code>
<code class="docutils literal notranslate"><span class="pre">RUNDIR</span></code>: <code class="docutils literal notranslate"><span class="pre">/mnt/output/cime_run_dirs/topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC/run</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">EXEROOT</span></code> is the root directory where the cose is built and the main
executable <code class="docutils literal notranslate"><span class="pre">e3sm.exe</span></code> is located.</p>
<p><code class="docutils literal notranslate"><span class="pre">RUNDIR</span></code> contains the outputs of the simulation. We will access the
outputs from this directory during analysis and visualization step.</p>
</section>
<section id="conduct-elm-simulations">
<h3><span class="section-number">8.4.3. </span>Conduct ELM Simulations<a class="headerlink" href="#conduct-elm-simulations" title="Link to this heading">¶</a></h3>
<p>Four simulations we would conduct explore three key features of ELM, in
various combinations:</p>
<ol class="arabic simple">
<li><p>Use of <strong>topounits</strong> to capture subgrid scale topographic variability</p></li>
<li><p>Atmospheric downscaling for elevation based downscaling of grid cell level forcings to <strong>topounits</strong>.</p></li>
<li><p>NGEE-Arctic developed IM2 module for hillslope hydrology.</p></li>
</ol>
<p>We will use the Field-to-Model: <code class="docutils literal notranslate"><span class="pre">model_examples/ELM/run_ngeearctic_site_rerun.sh</span></code> with various flags to
conduct all these simulations.</p>
<section id="run-1-baseline-im0-ds0">
<h4><strong>RUN 1: Baseline (IM0_DS0)</strong><a class="headerlink" href="#run-1-baseline-im0-ds0" title="Link to this heading">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site_rerun.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_name<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_dirs<span class="o">=</span>/mnt/output/cime_case_dirs<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--run_type<span class="o">=</span>branch<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_path<span class="o">=</span>/mnt/inputdata/E3SM/lnd/clm2/inidata/council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_case<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_date<span class="o">=</span><span class="m">2005</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--continue_run_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--rest_yrs<span class="o">=</span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user_namelist<span class="o">=</span><span class="s2">&quot;topounit&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--merged_ncfile<span class="o">=</span><span class="s2">&quot;MasterE3SM_subgrid.out_met-ds-NO_IM-2-NO_yes.topounit_gswp3_AK-SP-CL72_ICB20TRCNPRDCTCBC_2005.2014.nc&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">--case_dirs</span></code>, <code class="docutils literal notranslate"><span class="pre">--case_name</span></code>: will be set to the <code class="docutils literal notranslate"><span class="pre">CASEROOT</span></code>, we created in previous steps.</p>
<p><code class="docutils literal notranslate"><span class="pre">--run_type=branch</span></code>: This must be used together with
<code class="docutils literal notranslate"><span class="pre">--restart_path</span></code>, <code class="docutils literal notranslate"><span class="pre">--restart_case</span></code>, <code class="docutils literal notranslate"><span class="pre">--restart_date</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">branch</span></code> <code class="docutils literal notranslate"><span class="pre">RUN_TYPE</span></code> is one of 3 types supported by the workflow (<code class="docutils literal notranslate"><span class="pre">startup</span></code>,
<code class="docutils literal notranslate"><span class="pre">restart</span></code>, and <code class="docutils literal notranslate"><span class="pre">branch</span></code>). It will find data and rpointer files at
<code class="docutils literal notranslate"><span class="pre">--restart_path</span></code>, with <code class="docutils literal notranslate"><span class="pre">case_name</span></code> == <code class="docutils literal notranslate"><span class="pre">--restart_case</span></code>, and start
a simulation from the date specified by <code class="docutils literal notranslate"><span class="pre">--restart_date</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">--continue_run_yrs=10</span></code>: Would perform a simulation for 10 years. So
if starting from 2005-01-01, it will end on 2014-12-31.</p>
<p><code class="docutils literal notranslate"><span class="pre">--rest_yrs=11</span></code>: Tells the model to save restart files every 11 years.
Since the current run only goes for 10 years, it won’t generate any restart files.
.. If intended to, have to set this to not greater than –continue_run_yrs.</p>
<p><code class="docutils literal notranslate"><span class="pre">--user_namelist=&quot;topounit&quot;</span></code>:  Enables <strong>topounits</strong> feature
.. , but no meteorological downscaling or IM2 hillslope hydrology</p>
<p><code class="docutils literal notranslate"><span class="pre">--merged_ncfile</span></code> will asks workflow to save merged sub-grid output netCDF files to this file.
Otherwise, default filename would be <em>ELM_output_PFT.nc</em> (overwriting
any existing file with that name).</p>
<p>It can be any name. Here we will use names with some identifiable tags, e.g. E3SM version, not-grid-aggregated, met-ds (NO), IM-2 (NO), topounit (yes), met. type, site-code, ELM compset, period, etc.</p>
</section>
<section id="run-2-downscaling-im0-ds1">
<h4><strong>RUN 2: Downscaling (IM0_DS1)</strong><a class="headerlink" href="#run-2-downscaling-im0-ds1" title="Link to this heading">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site_rerun.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_name<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_dirs<span class="o">=</span>/mnt/output/cime_case_dirs<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--run_type<span class="o">=</span>branch<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_path<span class="o">=</span>/mnt/inputdata/E3SM/lnd/clm2/inidata/council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_case<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_date<span class="o">=</span><span class="m">2005</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--continue_run_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--rest_yrs<span class="o">=</span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user_namelist<span class="o">=</span><span class="s2">&quot;topounit_atm_downscaling&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--merged_ncfile<span class="o">=</span><span class="s2">&quot;MasterE3SM_subgrid.out_met-ds-YES_IM-2-NO_yes.topounit_gswp3_AK-SP-CL72_ICB20TRCNPRDCTCBC_2005.2014.nc&quot;</span>
</pre></div>
</div>
<p>Following options are changed compared to previous <strong>RUN1: IM0_DS0</strong>.</p>
<p><code class="docutils literal notranslate"><span class="pre">--user_namelist=&quot;topounit_atm_downscalng&quot;</span></code> that enables
<strong>meteorological downscaling</strong> in addition to <strong>topounits</strong>.</p>
<p><code class="docutils literal notranslate"><span class="pre">--merged_ncfile</span></code> to save the outputs to a new file.</p>
</section>
<section id="run-3-hillslope-hydrology-im1-ds0">
<h4><strong>RUN 3: Hillslope Hydrology (IM1_DS0)</strong><a class="headerlink" href="#run-3-hillslope-hydrology-im1-ds0" title="Link to this heading">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site_rerun.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_name<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_dirs<span class="o">=</span>/mnt/output/cime_case_dirs<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--run_type<span class="o">=</span>branch<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_path<span class="o">=</span>/mnt/inputdata/E3SM/lnd/clm2/inidata/council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_case<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_date<span class="o">=</span><span class="m">2005</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--continue_run_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--rest_yrs<span class="o">=</span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user_namelist<span class="o">=</span><span class="s2">&quot;topounit_IM2&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--merged_ncfile<span class="o">=</span><span class="s2">&quot;MasterE3SM_subgrid.out_met-ds-NO_IM-2-YES_yes.topounit_gswp3_AK-SP-CL72_ICB20TRCNPRDCTCBC_2005.2014.nc&quot;</span>
</pre></div>
</div>
<p>Following options are changed compared to previous <strong>RUN1: IM0_DS0</strong>.</p>
<p><code class="docutils literal notranslate"><span class="pre">--user_namelist=&quot;topounit_IM2&quot;</span></code> enables <strong>IM2 hillslope hydrology</strong>
in addition to <strong>topounits</strong>.</p>
<p><code class="docutils literal notranslate"><span class="pre">--merged_ncfile</span></code> to save the outputs to a new file.</p>
</section>
<section id="run-4-met-downscaling-hillslope-hydrology-im1-ds1">
<h4><strong>RUN 4: Met. Downscaling + Hillslope Hydrology (IM1_DS1)</strong><a class="headerlink" href="#run-4-met-downscaling-hillslope-hydrology-im1-ds1" title="Link to this heading">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/home/modex_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>inputdata:/mnt/inputdata<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>output:/mnt/output<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>yuanfornl/ngee-arctic-modex26:models-main-latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>/home/modex_user/model_examples/ELM/run_ngeearctic_site_rerun.sh<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_name<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--case_dirs<span class="o">=</span>/mnt/output/cime_case_dirs<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--run_type<span class="o">=</span>branch<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_path<span class="o">=</span>/mnt/inputdata/E3SM/lnd/clm2/inidata/council<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_case<span class="o">=</span>topounit_gswp3_AK-SP-CL71_ICB20TRCNPRDCTCBC<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--restart_date<span class="o">=</span><span class="m">2005</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--continue_run_yrs<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--rest_yrs<span class="o">=</span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user_namelist<span class="o">=</span><span class="s2">&quot;topounit_atm_downscaling, topounit_IM2&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--merged_ncfile<span class="o">=</span><span class="s2">&quot;MasterE3SM_subgrid.out_met-ds-YES_IM-2-YES_yes.topounit_gswp3_AK-SP-CL72_ICB20TRCNPRDCTCBC_2005.2014.nc&quot;</span>
</pre></div>
</div>
<p>Following options are changed compared to previous <strong>RUN3: IM1_DS0</strong>.</p>
<p><code class="docutils literal notranslate"><span class="pre">--user_namelist=&quot;topounit_atm_downscalng,</span> <span class="pre">topounit_IM2&quot;</span></code> enables
<strong>topounits</strong>, <strong>meteorological downscaling</strong> and <strong>IM2 hillslope
hydrology</strong>.</p>
<p><code class="docutils literal notranslate"><span class="pre">--merged_ncfile</span></code> to save the outputs to a new file.</p>
</section>
</section>
</section>
<section id="analysis-and-visualization-of-elm-simulation-outputs">
<h2><span class="section-number">8.5. </span>Analysis and visualization of ELM simulation outputs<a class="headerlink" href="#analysis-and-visualization-of-elm-simulation-outputs" title="Link to this heading">¶</a></h2>
<section id="start-jupyter-notebook-in-the-docker-container">
<h3><span class="section-number">8.5.1. </span>Start jupyter notebook in the Docker container<a class="headerlink" href="#start-jupyter-notebook-in-the-docker-container" title="Link to this heading">¶</a></h3>
<ol class="arabic">
<li><p>After starting the Docker Desktop App, click Left panel’s <em>Images</em>, listing the images available.</p>
<figure class="align-default">
<img alt="Docker Desktop App - image pulling" src="../_images/docker_run_jupyter1.png" />
</figure>
</li>
<li><p>Click the Triangle run button next to the image ‘yuanfornl/ngee-arctic-modex26:vis-main-latest’ to start</p>
<figure class="align-default">
<img alt="Docker Desktop App - image 'yuanfornl/ngee-arctic-modex26:vis-main-latest' RUN setting page" src="../_images/docker_run_jupyter2.png" />
</figure>
</li>
<li><p>It will pop up a option/setting page, click and pull the drawdown button, and edit as following.</p>
<figure class="align-default">
<img alt="Docker Desktop App - image 'yuanfornl/ngee-arctic-modex26:vis-main-latest' RUN setting editing" src="../_images/docker_run_jupyter3.png" />
</figure>
</li>
</ol>
<blockquote>
<div><p>Note: The first row of volume hookup is for connecting Your local cloned repository ‘Field-to-Model’ directory (full path) to  docker container’s directory of ‘/home/jovyan’.</p>
</div></blockquote>
<ol class="arabic" start="4">
<li><p>Click Run button and it will start Jupyter notebook. Notice the https links in the output and click on them to pop up a browser window.</p>
<figure class="align-default">
<img alt="Docker Desktop App - image 'yuanfornl/ngee-arctic-modex26:vis-main-latest' RUN jupyter notebook loading" src="../_images/docker_run_jupyter4.png" />
</figure>
</li>
<li><p>In the pop-up browser window, it should show the landing page like following.</p>
<figure class="align-default">
<img alt="Docker Desktop App - image 'yuanfornl/ngee-arctic-modex26:vis-main-latest' RUN jupyter notebook landing page" src="../_images/docker_run_jupyter5.png" />
</figure>
</li>
</ol>
</section>
<section id="visualizing-results-using-jupyter-notebook">
<h3><span class="section-number">8.5.2. </span>Visualizing results using jupyter notebook<a class="headerlink" href="#visualizing-results-using-jupyter-notebook" title="Link to this heading">¶</a></h3>
<p>Click the left explorer window, and click-open the folder: <code class="docutils literal notranslate"><span class="pre">/vis_notebooks/hillslope-bgc/</span></code></p>
<p>Click open file: <code class="docutils literal notranslate"><span class="pre">plot_ELM_output.ipynb</span></code>. We will run this script to
open a ELM output file, and investigate a few variables.</p>
<blockquote>
<div><figure class="align-default">
<img alt="jupyter notebook PlotELMoutput visualization tool" src="../_images/docker_run_jupyter_plotELMoutput.png" />
</figure>
</div></blockquote>
</section>
<section id="analyzing-the-impact-of-topounits-and-hillslope-hydrology-on-hydrology-soil-moisture-and-biogeochemistry-gpp">
<h3><span class="section-number">8.5.3. </span>Analyzing the impact of topounits and hillslope hydrology on hydrology (<strong>soil moisture</strong>) and biogeochemistry (<strong>GPP</strong>)<a class="headerlink" href="#analyzing-the-impact-of-topounits-and-hillslope-hydrology-on-hydrology-soil-moisture-and-biogeochemistry-gpp" title="Link to this heading">¶</a></h3>
<p>From the left explorer window, click-open file:
<code class="docutils literal notranslate"><span class="pre">topounit_run_analysis.ipynb</span></code>. We will run this script to open
<code class="docutils literal notranslate"><span class="pre">merged_ncfile</span></code> we created for 4 simulations in previous runs, and
conduct some analysis.</p>
<p>We’re going to focus on two variables: <strong>top-10cm soil moisture</strong> and
<strong>GPP</strong>.</p>
<blockquote>
<div><figure class="align-default">
<img alt="jupyter notebook ELM outputs analysis tool" src="../_images/docker_run_jupyter_hillslopeTool.png" />
</figure>
</div></blockquote>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/NGEE_Arctic_logo_large.png" alt="Logo of ModEx 2026"/>
            </a></p>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>

  <div>
    <h3><a href="../index.html">Page Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">8. Hillslope hydrology and BGC impacts breakout group</a><ul>
<li><a class="reference internal" href="#objectives-of-the-workshop-breakout">8.1. Objectives of the workshop breakout</a></li>
<li><a class="reference internal" href="#background-on-elm-features-we-will-explore">8.2. Background on ELM features we will explore</a><ul>
<li><a class="reference internal" href="#topounits">8.2.1. Topounits</a></li>
<li><a class="reference internal" href="#atmospheric-downscaling-scheme">8.2.2. Atmospheric Downscaling Scheme</a></li>
<li><a class="reference internal" href="#im2-hillslope-hydrology">8.2.3. IM2 Hillslope Hydrology</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-elm">8.3. Running ELM</a><ul>
<li><a class="reference internal" href="#elm-domain-files">8.3.1. ELM Domain Files</a></li>
<li><a class="reference internal" href="#elm-surface-datasets">8.3.2. ELM Surface Datasets</a></li>
<li><a class="reference internal" href="#elm-forcing-files">8.3.3. ELM Forcing Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-elm-exercises-on-topographic-unit-hereafter-topounit-data-and-functionality">8.4. Running ELM: Exercises on topographic unit, hereafter, topounit, data and functionality</a><ul>
<li><a class="reference internal" href="#a-sample-end-to-end-topounit-enabled-elm-run">8.4.1. A sample end-to-end topounit enabled ELM run</a></li>
<li><a class="reference internal" href="#create-a-new-transient-case-and-build-it">8.4.2. Create a new transient case and build it.</a></li>
<li><a class="reference internal" href="#conduct-elm-simulations">8.4.3. Conduct ELM Simulations</a><ul>
<li><a class="reference internal" href="#run-1-baseline-im0-ds0"><strong>RUN 1: Baseline (IM0_DS0)</strong></a></li>
<li><a class="reference internal" href="#run-2-downscaling-im0-ds1"><strong>RUN 2: Downscaling (IM0_DS1)</strong></a></li>
<li><a class="reference internal" href="#run-3-hillslope-hydrology-im1-ds0"><strong>RUN 3: Hillslope Hydrology (IM1_DS0)</strong></a></li>
<li><a class="reference internal" href="#run-4-met-downscaling-hillslope-hydrology-im1-ds1"><strong>RUN 4: Met. Downscaling + Hillslope Hydrology (IM1_DS1)</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#analysis-and-visualization-of-elm-simulation-outputs">8.5. Analysis and visualization of ELM simulation outputs</a><ul>
<li><a class="reference internal" href="#start-jupyter-notebook-in-the-docker-container">8.5.1. Start jupyter notebook in the Docker container</a></li>
<li><a class="reference internal" href="#visualizing-results-using-jupyter-notebook">8.5.2. Visualizing results using jupyter notebook</a></li>
<li><a class="reference internal" href="#analyzing-the-impact-of-topounits-and-hillslope-hydrology-on-hydrology-soil-moisture-and-biogeochemistry-gpp">8.5.3. Analyzing the impact of topounits and hillslope hydrology on hydrology (<strong>soil moisture</strong>) and biogeochemistry (<strong>GPP</strong>)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>


<h3><a href="../index.html">Global Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../modex_agenda_2026.html">1. ModEx Workshop 2026 Agenda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plenary/elm_intro.html">3. Introduction to ELM and workshop scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plenary/tem_ee1_warming.html">4. Introduction to TEM and Warming Experiment Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plenary/ilamb_intro.html">5. International Land Model Benchmarking (ILAMB)</a></li>
<li class="toctree-l1"><a class="reference internal" href="snow_veg_permafrost.html">6. Snow, Vegetation, and Permafrost Interactions Breakout Group</a></li>
<li class="toctree-l1"><a class="reference internal" href="permafrost_hydrology.html">7. Permafrost hydrology breakout group</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Hillslope hydrology and BGC impacts breakout group</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#objectives-of-the-workshop-breakout">8.1. Objectives of the workshop breakout</a></li>
<li class="toctree-l2"><a class="reference internal" href="#background-on-elm-features-we-will-explore">8.2. Background on ELM features we will explore</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-elm">8.3. Running ELM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-elm-exercises-on-topographic-unit-hereafter-topounit-data-and-functionality">8.4. Running ELM: Exercises on topographic unit, hereafter, topounit, data and functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="#analysis-and-visualization-of-elm-simulation-outputs">8.5. Analysis and visualization of ELM simulation outputs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../common_issues.html">9. Common Issues/FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common_issues.html#more-information-and-links">10. More Information and Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common_issues.html#glossary">11. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_notes.html">12. Modex Workshop Development Notes</a></li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="permafrost_hydrology.html"
                          title="previous chapter"><span class="section-number">7. </span>Permafrost hydrology breakout group</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../common_issues.html"
                          title="next chapter"><span class="section-number">9. </span>Common Issues/FAQ</a></p>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../common_issues.html" title="9. Common Issues/FAQ"
             >next</a> |</li>
        <li class="right" >
          <a href="permafrost_hydrology.html" title="7. Permafrost hydrology breakout group"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ModEx 2026 (updated: Jan 14 15:28:36 UTC) documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">8. </span>Hillslope hydrology and BGC impacts breakout group</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2026, ModEx Team, LANL, ORNL, UAF, LBNL.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>